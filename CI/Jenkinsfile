pipeline {

	agent any
	
	stages {
		stage('Checkout')
		{
		    steps {
		        checkout scm
		    }
		}
		stage ('Test')
		{
		    steps {
    			echo "test -----"
    			sh 'node -v'
    			sh 'npm prune'
    			sh 'npm install'
    			sh 'npm test'
		    }
		}
		
		stage ('Build')
		{
			steps {
				echo ' building the app' 
				sh 'npm run build'
			}
		}
		
		stage ('Publish')
		{
			steps {
				echo 'this step should do the publish'
			}
		}		
		
	}
	
}
